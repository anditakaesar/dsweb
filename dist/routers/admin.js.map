{"version":3,"sources":["../../src/routers/admin.js"],"names":["adminRouter","use","req","res","next","session","user","role","ROLES","ADMIN","redirect","get","render","data"],"mappings":";;;;;;;AAAA;;AACA;;;;;;;;AAEA,IAAMA,WAAW,GAAG,sBAApB;AAEAA,WAAW,CAACC,GAAZ,CAAgB,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAClC,MAAIF,GAAG,CAACG,OAAJ,CAAYC,IAAZ,CAAiBC,IAAjB,KAA0BC,aAAMC,KAApC,EAA2C;AACzCL,IAAAA,IAAI;AACL,GAFD,MAEO;AACLD,IAAAA,GAAG,CAACO,QAAJ,CAAa,OAAb;AACD;AACF,CAND;AAQAV,WAAW,CAACW,GAAZ,CAAgB,GAAhB,EAAqB,UAACT,GAAD,EAAMC,GAAN,EAAc;AACjCA,EAAAA,GAAG,CAACS,MAAJ,CAAW,OAAX,EAAoB;AAClBC,IAAAA,IAAI,kCACCV,GAAG,CAACU,IADL;AAEFP,MAAAA,IAAI,EAAEJ,GAAG,CAACG,OAAJ,CAAYC;AAFhB;AADc,GAApB;AAMD,CAPD;AASAN,WAAW,CAACW,GAAZ,CAAgB,OAAhB,EAAyB,UAACT,GAAD,EAAMC,GAAN,EAAc;AACrCA,EAAAA,GAAG,CAACS,MAAJ,CAAW,WAAX,EAAwB;AACtBC,IAAAA,IAAI,kCACCV,GAAG,CAACU,IADL;AAEFP,MAAAA,IAAI,EAAEJ,GAAG,CAACG,OAAJ,CAAYC;AAFhB;AADkB,GAAxB;AAMD,CAPD;AASAN,WAAW,CAACW,GAAZ,CAAgB,SAAhB,EAA2B,UAACT,GAAD,EAAMC,GAAN,EAAc;AACvCA,EAAAA,GAAG,CAACS,MAAJ,CAAW,aAAX,EAA0B;AACxBC,IAAAA,IAAI,kCACCV,GAAG,CAACU,IADL;AAEFP,MAAAA,IAAI,EAAEJ,GAAG,CAACG,OAAJ,CAAYC;AAFhB;AADoB,GAA1B;AAMD,CAPD;eASeN,W","sourcesContent":["import { Router } from 'express'\r\nimport { ROLES } from '../helper/constants/roles'\r\n\r\nconst adminRouter = Router()\r\n\r\nadminRouter.use((req, res, next) => {\r\n  if (req.session.user.role === ROLES.ADMIN) {\r\n    next()\r\n  } else {\r\n    res.redirect('/edit')\r\n  }\r\n})\r\n\r\nadminRouter.get('/', (req, res) => {\r\n  res.render('admin', {\r\n    data: {\r\n      ...res.data,\r\n      user: req.session.user,\r\n    }\r\n  })\r\n})\r\n\r\nadminRouter.get('/user', (req, res) => {\r\n  res.render('adminuser', {\r\n    data: {\r\n      ...res.data,\r\n      user: req.session.user,\r\n    }\r\n  })\r\n})\r\n\r\nadminRouter.get('/config', (req, res) => {\r\n  res.render('adminconfig', {\r\n    data: {\r\n      ...res.data,\r\n      user: req.session.user,\r\n    }\r\n  })\r\n})\r\n\r\nexport default adminRouter"],"file":"admin.js"}