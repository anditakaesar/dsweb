{"version":3,"sources":["../../src/routers/edit.js"],"names":["editRouter","use","req","res","next","session","user","role","ROLES","STAFF","data","message","render","get"],"mappings":";;;;;;;AAAA;;AACA;;;;;;;;AAEA,IAAMA,UAAU,GAAG,sBAAnB;AAEAA,UAAU,CAACC,GAAX,CAAe,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACjC,MAAIF,GAAG,CAACG,OAAJ,CAAYC,IAAZ,CAAiBC,IAAjB,KAA0BC,aAAMC,KAApC,EAA2C;AACzCL,IAAAA,IAAI;AACL,GAFD,MAEO;AACLD,IAAAA,GAAG,CAACO,IAAJ,CAASC,OAAT,GAAmB,cAAnB;AACAR,IAAAA,GAAG,CAACS,MAAJ,CAAW,OAAX,EAAoB;AAClBF,MAAAA,IAAI,kCACCP,GAAG,CAACO,IADL;AAEFJ,QAAAA,IAAI,EAAEJ,GAAG,CAACG,OAAJ,CAAYC;AAFhB;AADc,KAApB;AAMD;AACF,CAZD;AAcAN,UAAU,CAACa,GAAX,CAAe,GAAf,EAAoB,UAACX,GAAD,EAAMC,GAAN,EAAc;AAChCA,EAAAA,GAAG,CAACS,MAAJ,CAAW,MAAX,EAAmB;AACjBF,IAAAA,IAAI,kCACCP,GAAG,CAACO,IADL;AAEFJ,MAAAA,IAAI,EAAEJ,GAAG,CAACG,OAAJ,CAAYC;AAFhB;AADa,GAAnB;AAMD,CAPD;AASAN,UAAU,CAACa,GAAX,CAAe,OAAf,EAAwB,UAACX,GAAD,EAAMC,GAAN,EAAc;AACpCA,EAAAA,GAAG,CAACS,MAAJ,CAAW,cAAX,EAA2B;AACzBF,IAAAA,IAAI,kCACCP,GAAG,CAACO,IADL;AAEFJ,MAAAA,IAAI,EAAEJ,GAAG,CAACG,OAAJ,CAAYC;AAFhB;AADqB,GAA3B;AAMD,CAPD;eASeN,U","sourcesContent":["import { Router } from 'express'\r\nimport { ROLES } from '../helper/constants/roles'\r\n\r\nconst editRouter = Router()\r\n\r\neditRouter.use((req, res, next) => {\r\n  if (req.session.user.role === ROLES.STAFF) {\r\n    next()\r\n  } else {\r\n    res.data.message = 'Unauthorized'\r\n    res.render('error', {\r\n      data: {\r\n        ...res.data,\r\n        user: req.session.user,\r\n      }\r\n    })\r\n  }\r\n})\r\n\r\neditRouter.get('/', (req, res) => {\r\n  res.render('edit', {\r\n    data: {\r\n      ...res.data,\r\n      user: req.session.user,\r\n    }\r\n  })\r\n})\r\n\r\neditRouter.get('/list', (req, res) => {\r\n  res.render('edit-listing', {\r\n    data: {\r\n      ...res.data,\r\n      user: req.session.user,\r\n    }\r\n  })\r\n})\r\n\r\nexport default editRouter"],"file":"edit.js"}